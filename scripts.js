const points = [
    // {
    //     "name": "",
    //     "description": "",
    //     "related_images" : [],
    //     "icon": "./icons/debug.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -351.4,
    //     "yPos": 46.8
    // },
    // {
    //     "name": "",
    //     "description": "",
    //     "related_images" : [],
    //     "icon": "./icons/debug.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": 213.4,
    //     "yPos": 541.8
    // },
    // satellites
    {
        "name": "Papa",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/p.png",
        "positioning": "poitioned_on_top",
        "xPos": 300,
        "yPos": 300
    },
    {
        "name": "Golf",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/g.png",
        "positioning": "poitioned_on_top",
        "xPos": 200,
        "yPos": 100
    },
    {
        "name": "Foxtrot",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/f.png",
        "positioning": "poitioned_on_top",
        "xPos": 200,
        "yPos": 0
    },
    {
        "name": "Echo",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/e.png",
        "positioning": "poitioned_on_top",
        "xPos": 200,
        "yPos": -100
    },
    {
        "name": "Oscar",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/o.png",
        "positioning": "poitioned_on_top",
        "xPos": 300,
        "yPos": -300
    },
    {
        "name": "Tango",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/t.png",
        "positioning": "poitioned_on_top",
        "xPos": 500,
        "yPos": -500
    },
    {
        "name": "Uniform",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/u.png",
        "positioning": "poitioned_on_top",
        "xPos": 500,
        "yPos": 0
    },
    {
        "name": "India",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/i.png",
        "positioning": "poitioned_on_top",
        "xPos": 0,
        "yPos": 200
    },
    {
        "name": "Victor",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/v.png",
        "positioning": "poitioned_on_top",
        "xPos": 500,
        "yPos": 500
    },
    {
        "name": "Hotel",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/h.png",
        "positioning": "poitioned_on_top",
        "xPos": 100,
        "yPos": 200
    },
    {
        "name": "Juliett",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/j.png",
        "positioning": "poitioned_on_top",
        "xPos": -100,
        "yPos": 200
    },
    {
        "name": "Whiskey",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/w.png",
        "positioning": "poitioned_on_top",
        "xPos": 0,
        "yPos": 500
    },
    {
        "name": "Xray",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/x.png",
        "positioning": "poitioned_on_top",
        "xPos": -500,
        "yPos": 500
    },
    {
        "name": "Quebec",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/q.png",
        "positioning": "poitioned_on_top",
        "xPos": -300,
        "yPos": 300
    },
    {
        "name": "Kilo",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/k.png",
        "positioning": "poitioned_on_top",
        "xPos": -200,
        "yPos": 100
    },
    {
        "name": "Lima",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/l.png",
        "positioning": "poitioned_on_top",
        "xPos": -200,
        "yPos": 0
    },
    {
        "name": "Mike",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/m.png",
        "positioning": "poitioned_on_top",
        "xPos": -200,
        "yPos": -100
    },
    {
        "name": "Bravo",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/b.png",
        "positioning": "poitioned_on_top",
        "xPos": -100,
        "yPos": -200
    },
    {
        "name": "Charlie",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/c.png",
        "positioning": "poitioned_on_top",
        "xPos": 0,
        "yPos": -200
    },
    {
        "name": "Delta",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/d.png",
        "positioning": "poitioned_on_top",
        "xPos": 100,
        "yPos": -200
    },
    {
        "name": "Sierra",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/s.png",
        "positioning": "poitioned_on_top",
        "xPos": 0,
        "yPos": -500
    },
    {
        "name": "November",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/n.png",
        "positioning": "poitioned_on_top",
        "xPos": -300,
        "yPos": -300
    },
    {
        "name": "Romeo",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/r.png",
        "positioning": "poitioned_on_top",
        "xPos": -500,
        "yPos": -500
    },
    {
        "name": "Yankee",
        "description": "",
        "related_images" : [],
        "category": "Satellite Dishes",
        "icon": "./icons/y.png",
        "positioning": "poitioned_on_top",
        "xPos": -500,
        "yPos": 0
    },
    // metal tiles
    {
        "name": "Metal Tile #1",
        "description": "Found on top of the base. You can get on top of the base by using the ladder on the south of the base.",
        "related_images" : ['./images/tile1_1.png', './images/tile1_2.png', './images/tile1_3.png'],
        "category": "Metal Tiles",
        "icon": "./icons/metal_tile.png",
        "positioning": "positioned_above",
        "xPos": 0,
        "yPos": -9
    },
    {
        "name": "Metal Tile #2",
        "description": "On top of the truss of the bridge.",
        "related_images" : ['./images/tile2_1.png', './images/tile2_2.png'],
        "category": "Metal Tiles",
        "icon": "./icons/metal_tile.png",
        "positioning": "positioned_above",
        "xPos": -68.5,
        "yPos": 16
    },
    {
        "name": "Metal Tile #3",
        "description": "This is, by far, the hardest tile to find. If you don't have a digital map, I recommend you: <br><br>1. go to quebec.<br>2. reset your compass with <i>sv.target reset</i>.<br>3. go below quebec and orient yourself to what is seen in the first image below.<br>4. walk forward until you are around halfway in between quebec and sierra. you should find yourself in a clearing similar to what is seen in image 2, 3, and 4 (note the 3 trees next to eachother).<br>5. continue searching in that area until you find the key.",
        "related_images" : ['./images/tile3_1.png', './images/tile3_2.png', './images/tile3_3.png', './images/tile3_4.png'],
        "category": "Metal Tiles",
        "icon": "./icons/metal_tile.png",
        "positioning": "positioned_above",
        "xPos": -464,
        "yPos": 173
    },
    {
        "name": "Metal Tile #4",
        "description": "Found at the base of a tree to the north of Yankee.",
        "related_images" : ['./images/tile4_1.png', './images/tile4_2.png', './images/tile4_3.png'],
        "category": "Metal Tiles",
        "icon": "./icons/metal_tile.png",
        "positioning": "positioned_above",
        "xPos": -525,
        "yPos": -47
    },
    {
        "name": "Metal Tile #5",
        "description": "Between two supply boxes at the hole.",
        "related_images" : ['./images/tile5_1.png', './images/tile5_2.png', './images/tile5_3.png'],
        "category": "Metal Tiles",
        "icon": "./icons/metal_tile.png",
        "positioning": "positioned_above",
        "xPos": -620,
        "yPos": -28
    },
    {
        "name": "Metal Tile #6",
        "description": "On the roof of the guard's booth. You will need to get outside of the fence to access the guard's booth.",
        "related_images" : ['./images/tile6_1.png', './images/tile6_2.png', './images/tile6_3.png'],
        "category": "Metal Tiles",
        "icon": "./icons/metal_tile.png",
        "positioning": "positioned_above",
        "xPos": -372,
        "yPos": 702.6
    },
    {
        "name": "Metal Tile #7",
        "description": "Found on the ground next to the green locker.",
        "related_images" : ['./images/tile7_1.png', './images/tile7_2.png', './images/tile7_3.png'],
        "category": "Metal Tiles",
        "icon": "./icons/metal_tile.png",
        "positioning": "positioned_above",
        "xPos": 616,
        "yPos": 621
    },
    {
        "name": "Metal Tile #8",
        "description": "Found behind the top room of uniform. Once you are near the doors, crouch under the railing and walk around the platform to find it.",
        "related_images" : ['./images/tile8_1.png', './images/tile8_2.png'],
        "category": "Metal Tiles",
        "icon": "./icons/metal_tile.png",
        "positioning": "positioned_above",
        "xPos": 500,
        "yPos": -3
    },
    {
        "name": "Metal Tile #9",
        "description": "No, seriously. This marker isn't placed wrong. Go past the fence and keep going until you hit the corner between the northern and eastern invisible walls.",
        "related_images" : ['./images/tile9_1.png', './images/tile9_2.png', './images/tile9_3.png'],
        "category": "Metal Tiles",
        "icon": "./icons/metal_tile.png",
        "positioning": "positioned_above",
        "xPos": 874,
        "yPos": -874
    },
    // Argemia Plushes
    {
        "name": "Green Argemia",
        "description": "Outside of the fence, located on the top of the mountain",
        "related_images" : ['./images/greenArgemia_1.png', './images/greenArgemia_2.png', './images/greenArgemia_3.png', './images/greenArgemia_4.png'],
        "category": "Plushes",
        "icon": "./icons/green_argemia.png",
        "positioning": "poitioned_on_top",
        "xPos": 239,
        "yPos": 828
    },
    {
        "name": "Red Argemia",
        "description": "Located in a steep pit next to a donut. Interacting with the donut will teleport you back home.<br>NOTE: The walls of the pit are too steep to allow you to walk out, so you can bring your ATV into the pit or interact with the donut to get out.",
        "related_images" : ['./images/redArgemia_1.png', './images/redArgemia_2.png', './images/redArgemia_3.png'],
        "category": "Plushes",
        "icon": "./icons/red_argemia.png",
        "positioning": "poitioned_on_top",
        "xPos": 626,
        "yPos": -128
    },
    {
        "name": "Blue Argemia",
        "description": "At the bottom of the river, near quebec. Depending on your graphics settings, the plush might appear <i>in</i> the ground and may require you to scour the riverbed while crouching to find it.",
        "related_images" : ['./images/blueArgemia_1.png', './images/blueArgemia_2.png'],
        "category": "Plushes",
        "icon": "./icons/blue_argemia.png",
        "positioning": "poitioned_on_top",
        "xPos": -315,
        "yPos": 398
    },
    {
        "name": "Glowing Blue Argemia",
        "description": "Found atop a white cube in the sky. You can get it by either knocking it off with a drone, or going to it yourself using a flying machine glitch. The plushie is stuck firmly to the cube, so knocking it off by drone will take multiple attempts and you may lose it when it falls. You can check out different flying machine designs on the <a href=\"https://discord.gg/WKBvqu4tjV\" target=\"_blank\" rel=\"noopener noreferrer\">discord</a>.",
        "related_images" : ['./images/glowingBlueArgemia_1.png', './images/glowingBlueArgemia_2.png', './images/glowingBlueArgemia_3.png'],
        "category": "Plushes",
        "icon": "./icons/glowing_blue_argemia.png",
        "positioning": "poitioned_on_top",
        "xPos": 872,
        "yPos": -792
    },
    {
        "name": "Glowing Cyan Argemia",
        "description": "Needs to be dug up using a shovel. You can use a metal detector if you're having any trouble finding it, but it probably won't be nessessary. Be careful to not let the plushie roll down the hill.",
        "related_images" : ['./images/glowingCyanArgemia_1.png', './images/glowingCyanArgemia_2.png', './images/glowingCyanArgemia_3.png'],
        "category": "Plushes",
        "icon": "./icons/glowing_cyan_argemia.png",
        "positioning": "poitioned_on_top",
        "xPos": -630,
        "yPos": 189.6
    },
    {
        "name": "Glowing Magenta Argemia",
        "description": "The plush's spawn location is located near the top of the tower. In order for the plush to spawn, something (a piece of trash, a drone, etc.) needs to enter that spawning location's hitbox. The usual method is placing a drone around (34.8, -36.8) and then having the drone fly up. When the plush spawns, it will fall and you may not notice it. I recommend placing a camera down below and constantly flicking to it to see if the plush has spawned. You may need to repeat this method multiple times to get it. Good luck.",
        "related_images" : ['./images/glowingMagentaArgemia_1.png', './images/glowingMagentaArgemia_2.png'],
        "category": "Plushes",
        "icon": "./icons/glowing_magenta_argemia.png",
        "positioning": "poitioned_on_top",
        "xPos": 34.8,
        "yPos": -36.8
    },
    {
        "name": "Antibreather Plush",
        "description": "Appears in the antibreather cave at 3:33am in-game. In order for it to spawn, you must be in the cave when the time passes. The plush won't disappear, but the plush only spawns in once, so don't lose it.",
        "related_images" : ['./images/antibreatherPlush_1.png', './images/antibreatherPlush_2.png'],
        "category": "Plushes",
        "icon": "./icons/antibreather_plush.png",
        "positioning": "poitioned_on_top",
        "xPos": -652.7,
        "yPos": -598.8
    },
    // Points of interest
    {
        "name": "Unknown Rozital Technology",
        "description": "Found situated between two rocks, and will do nothing until you discover a signal.<br>Once the <i>lifecrystal</i> signal has been downloaded and processed to level 3, an event will occur the next night that features a purple laser coming down from the sky onto the technology. After the event, the technology will glow a subtle pink, and after approaching, will begin to spin and click before flying into the air and disappearing in a flash of light.<br>Whether the technology was supposed to originate from the laser, or that the laser simply \'activated\' the technology is unknown.",
        "related_images" : ['./images/rozital_1.png', './images/rozital_2.png', './images/rozital_3.png', './images/rozital_4.png'],
        "category": "",
        "icon": "./icons/rozital.png",
        "positioning": "poitioned_on_top",
        "xPos": 637,
        "yPos": 44
    },
    {
        "name": "Basalt Pillars",
        "description": "<div style=\"color: red;\">WARNING: THIS CAN RUIN YOUR SAVE</div><br>Can be found with the metal detector. Once dug up, it'll slowly grow out of the ground and start spreading. They will slowly spread in your direction. <u>The pillars have high durability, but they can be destroyed with a crowbar or shovel.</u>",
        "related_images" : ['./images/basalt_pillars_1.png', './images/basalt_pillars_2.png'],
        "category": "",
        "icon": "./icons/basalt_pillar.png",
        "positioning": "poitioned_on_top",
        "xPos": 465.5,
        "yPos": -86.1
    },
    {
        "name": "Green Locker",
        "description": "Insert all 9 metal tiles and press the button.",
        "related_images" : ['./images/green_locker_1.png'],
        "category": "",
        "icon": "./icons/green_locker.png",
        "positioning": "poitioned_on_top",
        "xPos": 614.8,
        "yPos": 627.5
    },
    {
        "name": "Old Shack",
        "description": "A dilapidated, old shack sits in the middle of the woods, and inside, a scorch mark stains the smooth dirt ground. From the mark sprouts a vibrant red tree.<br>The air is strong here...",
        "related_images" : [],
        "category": "",
        "icon": "./icons/shack.png",
        "positioning": "poitioned_on_top",
        "xPos": 408.5,
        "yPos": 24.3
    },
    {
        "name": "Well",
        "description": "",
        "related_images" : ['./images/well_1.png','./images/well_2.png'],
        "category": "",
        "icon": "./icons/well.png",
        "positioning": "poitioned_on_top",
        "xPos": 564.4,
        "yPos": 265.7
    },
    {
        "name": "Nuclear Barrels",
        "description": "",
        "related_images" : [],
        "category": "",
        "icon": "./icons/barrel.png",
        "positioning": "poitioned_on_top",
        "xPos": 570.6,
        "yPos": -517.2
    },
    {
        "name": "Abandoned Car",
        "description": "",
        "related_images" : [],
        "category": "",
        "icon": "./icons/car.png",
        "positioning": "poitioned_on_top",
        "xPos": -210.3,
        "yPos": 306.8
    },
    {
        "name": "Bunker",
        "description": "",
        "related_images" : [],
        "category": "",
        "icon": "./icons/bunker.png",
        "positioning": "poitioned_on_top",
        "xPos": 60.25,
        "yPos": 625.5
    },
    // Chicken Burgers
    // {
    //     "name": "Burger #1",
    //     "description": "Behind the desk with the 6 drives on it",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -8.1,
    //     "yPos": 3.9
    // },
    // {
    //     "name": "Burger #2",
    //     "description": "Behind the desk with the drive boxes on it",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -9.5,
    //     "yPos": 9.6
    // },
    // {
    //     "name": "Burger #3",
    //     "description": "Next to the server in the corner",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -9.5,
    //     "yPos": -3.6
    // },
    // {
    //     "name": "Burger #4",
    //     "description": "Behind the supply crate in the hallway",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -10.4,
    //     "yPos": -3.8
    // },
    // {
    //     "name": "Burger #5",
    //     "description": "Under the pipes",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -14.3,
    //     "yPos": 6.5
    // },
    // {
    //     "name": "Burger #6",
    //     "description": "Behind the bed in the corner of the room",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -14.3,
    //     "yPos": 19.5
    // },
    // {
    //     "name": "Burger #7",
    //     "description": "On top of the tiolet.",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -5.9,
    //     "yPos": 19.3
    // },
    // {
    //     "name": "Burger #8",
    //     "description": "Surrounded by supply crates behind a coffee bag",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -7,
    //     "yPos": 13.3
    // },
    // {
    //     "name": "Burger #9",
    //     "description": "Behind the stack of pallets",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -4.6,
    //     "yPos": 16.4
    // },
    // {
    //     "name": "Burger #10",
    //     "description": "Behind the 2 wooden pallets leaning against the wall",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": 6.6,
    //     "yPos": 19.6
    // },
    // {
    //     "name": "Burger #11",
    //     "description": "Between the supply crates",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": 5.5,
    //     "yPos": 10.5
    // },
    // {
    //     "name": "Burger #12",
    //     "description": "On the ground in the corner between the building and the entrance",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -13.8,
    //     "yPos": -10.4
    // },
    // {
    //     "name": "Burger #13",
    //     "description": "Under the brige. Depending on your graphics settings, it might appear in the ground and may require you to search while crouching to find it.",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -62,
    //     "yPos": 12
    // },
    // {
    //     "name": "Burger #14",
    //     "description": "At the base of a tree located next to where the gravel pathways merge.",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": 42.7,
    //     "yPos": -12
    // },
    // {
    //     "name": "Burger #15",
    //     "description": "Between 2 large boulders outside",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": 11,
    //     "yPos": 29.7
    // },
    // {
    //     "name": "Burger #16",
    //     "description": "On the roof",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": 3.2,
    //     "yPos": 17.7
    // },
    // {
    //     "name": "Burger #17",
    //     "description": "Located on the metal walkways that go around Juliett",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -100.2,
    //     "yPos": 203.5
    // },
    // {
    //     "name": "Burger #18",
    //     "description": "Behind the desk",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -621.6,
    //     "yPos": -28.5
    // },
    // {
    //     "name": "Burger #19",
    //     "description": "On the ground outside of the cave",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": -651.1,
    //     "yPos": -587.5
    // },
    // {
    //     "name": "Burger #20",
    //     "description": "On the ground next to the <i>Unknown Rozital Technology</i>.",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": 639.2,
    //     "yPos": 44
    // },
    // {
    //     "name": "Burger #21",
    //     "description": "Needs to be dug up with a shovel. A metal detector can help in finding it",
    //     "related_images" : [],
    //     "category": "Chicken Burgers",
    //     "icon": "./icons/burger.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": 157,
    //     "yPos": -584
    // },
// -655.8, -600.2 : Skull
    // Transformers
    {
        "name": "Power Station",
        "description": "",
        "related_images" : [],
        "category": "Transformers",
        "icon": "./icons/generator.png",
        "positioning": "poitioned_on_top",
        "xPos": 64,
        "yPos": 64.3
    },
    { // TR_0
        "name": "Transformer #1",
        "description": "Target with <i>sv.target TF_0</i>.<br>The building is chaotically filled with supplies and explosive items.",
        "related_images" : [],
        "category": "Transformers",
        "icon": "./icons/transformer.png",
        "positioning": "poitioned_on_top",
        "xPos": 396.7,
        "yPos": 199.4
    },
    { // TR_1
        "name": "Transformer #2",
        "description": "Target with <i>sv.target TF_1</i>.<br>The building is empty. There are two benches outside.",
        "related_images" : [],
        "category": "Transformers",
        "icon": "./icons/transformer.png",
        "positioning": "poitioned_on_top",
        "xPos": -550,
        "yPos": 232.3
    },
    { // TR_2
        "name": "Transformer #3",
        "description": "Target with <i>sv.target TF_2</i>.<br>The building is clean, with an empty shelf and 3 supply boxes. There are two benches outside.",
        "related_images" : [],
        "category": "Transformers",
        "icon": "./icons/transformer.png",
        "positioning": "poitioned_on_top",
        "xPos": -399.3,
        "yPos": -473.6
    },
    // Items of interest
    {
        "name": "Shovel",
        "description": "Found leaning on 3 supply boxes next to stonehenge",
        "related_images" : ['./images/shovel1_1.png'],
        "category": "",
        "icon": "./icons/shovel.png",
        "positioning": "poitioned_on_top",
        "xPos": 209.2,
        "yPos": 535.2
    },
    // {
    //     "name": "Shovel",
    //     "description": "Inside the tree",
    //     "related_images" : [],
    //     "category": "",
    //     "icon": "./icons/shovel.png",
    //     "positioning": "poitioned_on_top",
    //     "xPos": 409.1,
    //     "yPos": 22.5
    // },
    {
        "name": "Shovel",
        "description": "Behind the transformer, you can access it by opening the vent on the side of the building.",
        "related_images" : [],
        "category": "",
        "icon": "./icons/shovel.png",
        "positioning": "poitioned_on_top",
        "xPos": -400.2,
        "yPos": -473.8
    },
    {
        "name": "Cacti",
        "description": "Dug up between the sign pole and the boulder",
        "related_images" : ['./images/cacti_1.png'],
        "category": "",
        "icon": "./icons/cacti.png",
        "positioning": "poitioned_on_top",
        "xPos": 149.2,
        "yPos": -10.5
    },
    {
        "name": "Box of Drives",
        "description": "A box containing 8 drives with level 3 signals can be dug up near the pole in the middle of the grassy circle. You can send the drives off for some points or you can keep them, but make sure to check them out on your console at some point :)",
        "related_images" : ['./images/box_of_drives_1.png'],
        "category": "",
        "icon": "./icons/drive_box.png",
        "positioning": "poitioned_on_top",
        "xPos": -118.8,
        "yPos": -42.1
    },
    {
        "name": "Drive",
        "description": "Can be dug up in the corner between the building and the driveway",
        "related_images" : ['./images/drive_1.png'],
        "category": "",
        "icon": "./icons/level_0_drive.png",
        "positioning": "poitioned_on_top",
        "xPos": 10.7,
        "yPos": 9.7
    },
    {
        "name": "Box of bones",
        "description": "Can be dug up next to the boulder in the middle of the grassy circle. An old wooden box containing a 9 bones and a skull. The box is breakable",
        "related_images" : ['./images/box_of_bones_1.png'],
        "category": "",
        "icon": "./icons/old_wooden_box.png",
        "positioning": "poitioned_on_top",
        "xPos": 262,
        "yPos": -6.5
    },
    {
        "name": "Radioactive Capsule",
        "description": "Located in the middle of a dirt patch with a skeleton reaching out placed next to it. Needs a shovel to get it out of the ground",
        "related_images" : ['./images/radioactive_object_1.png', './images/radioactive_object_2.png', './images/radioactive_object_3.png'],
        "category": "",
        "icon": "./icons/radioactive_canister.png",
        "positioning": "poitioned_on_top",
        "xPos": -569.5,
        "yPos": 303.3
    },
    {
        "name": "EMF Detector",
        "description": "Right under floodlight on the ground. Toggle on with right click while holding. 4 lights on it indicate how strong the emf is. Example locations for strong EMF is the basement, stonehenge, and the old shack.",
        "related_images" : ['./images/emf_detector_1.png'],
        "category": "",
        "icon": "./icons/emf_detector.png",
        "positioning": "poitioned_on_top",
        "xPos": -622.1,
        "yPos": -31.4
    }
]
const lines = [
    {
        "color": "black", // set the color to the grayish color that the fence actually has
        "linethickness": 2,
        "fill": undefined,
        "coordinates": [[-690, -700], [700, -700], [700, -215], [700, -200], [700, 700], [-700, 700], [-700, -70]]
    },
    {
        "color": "black",
        "linethickness": 2,
        "fill": undefined,
        "coordinates": [[-700, -85], [-700, -700]]
    },
    { // Stonehenge circle
        "color": "black",
        "linethickness": 2,
        "fill": undefined,
        "coordinates": [[224, 476.5], [229.9, 478], [235.5, 480.5], [241.2, 482.3], [251, 489.5], [254.9, 494.3], [261.6, 504.4], [266.8, 515.4], [270, 526.9], [276, 526.9], [284.5, 535.7], [279.3, 546.4], [277.7, 552.5], [279.6, 558.2], [279.2, 564.2], [280.4, 570.2], [278.7, 576], [274, 580], [262.3, 582.5], [258, 586.8], [250.9, 596.7], [246.2, 600.6], [238.1, 609.7], [234.7, 615], [229, 617.2], [223, 617.6], [211.7, 613.5], [205.8, 612.6], [194.5, 608], [188.5, 608.3], [188, 602.4], [183.3, 598.5], [172.6, 593.4], [169.2, 588.6], [164.6, 584.7], [159.5, 581.8], [152.1, 572.6], [149, 561], [146.8, 555.4], [143.8, 550.4], [142.1, 544.6], [142.1, 538.8], [143.7, 526.8], [145.1, 521], [147.1, 515.6], [153.5, 505.4], [157.9, 501.2], [159.8, 495.6], [163.7, 491], [168.5, 487.5], [172.7, 482.9], [178.5, 483.7], [183.8, 486.4], [189.8, 485.7], [201, 481], [206.3, 478], [218, 476], [224, 476.5]]
    },
    { // TR_0
        "color": "rgb(81, 83, 80)",
        "linethickness": 2,
        "fill": undefined,
        "coordinates": [[64, 64.3], [72.1, 71.5], [174.8, 66.8], [279.8, 67.3], [313.7, 131.2], [388.9, 196.8]]
    },
    { // TR_1
        "color": "rgb(81, 83, 80)",
        "linethickness": 2,
        "fill": undefined,
        "coordinates": [[64, 64.3], [49, 71.5], [-92.1, 79.9], [-214.7, 167.5], [-319.8, 254.1], [-426, 276.5], [-557.7, 237.5]]
    },
    { // TR_2
        "color": "rgb(81, 83, 80)",
        "linethickness": 2,
        "fill": undefined,
        "coordinates": [[64, 64.3], [63.4, 51.1], [121.8, -43.5], [155.7, -132.5], [158.1, -243.3], [39.9, -290.7], [-58.5, -299.4], [-171.9, -248.1], [-227, -313.9], [-324.2, -345.6], [-406, -466.8]]
    },
    { // Corner Fence
        "color": "black",
        "linethickness": 2,
        "fill": undefined,
        "coordinates": [[700, -331.4], [695.9, -340.1], [693.5, -342.8], [690.7, -344.5], [680.3, -344.8], [675, -346.3], [659.8, -368.6], [652.6, -383], [645.6, -401.6], [638.9, -422.5], [633.7, -431.1], [623.9, -441.3], [614.7, -451.3], [607.1, -462.4], [599.7, -477.9], [591, -509.2], [589.2, -544.8], [587.7, -558.4], [581.5, -575.6], [572.4, -588.5], [570, -593], [568, -599.8], [565.3, -616.7], [562.9, -643.5], [562.5, -671.7], [563.5, -680.6], [565.3, -687], [589, -700]]
        
    }
    // ,{
    //     "color": "rgb(255, 50, 255)",
    //     "linethickness": 1,
    //     "fill": "rgba(255, 0, 255, 0.5)",
    //     "coordinates": [[-150, -150], [-150, -50], [-50, -50], [-50, -150]]
    // }
]
// console.log(JSON.stringify(points));
var map_container = document.getElementById('map_container');
var information_pane = document.getElementById('information_pane');
var information_header = document.getElementById('information_header');
var information_coords = document.getElementById('information_coords');
var information_text = document.getElementById('information_text');
var information_images = document.getElementById('information_images');
var map_pane = document.getElementById('map_pane')
var map_image = document.getElementById('map_image')
var map_canvas = document.getElementById('map_canvas')
var ctx = map_canvas.getContext('2d');
var display_image = document.getElementById('display_image')
var display_image_container = document.getElementById('display_image_container')
var information_tab_info = document.getElementById('information_tab_info')
var information_tab_points = document.getElementById('information_tab_points')
var information_pane_info = document.getElementById('information_pane_info')
var information_pane_points = document.getElementById('information_pane_points')
var references = {}
var currentSize = 896;
var clickedWithoutMovement = false;
var touchscreenClickedAPoint = false;
var drag = {
    x: 0,
    y: 0,
    state: false
};

// ensure that the map centers in the map_pane when the page is loaded

function centerMap() {
    map_container.style.left = Math.floor((map_pane.offsetWidth - map_image.offsetWidth) / 2).toString() + 'px'
    map_container.style.top = Math.floor((map_pane.offsetHeight - map_image.offsetHeight) / 2).toString() + 'px'
};
window.addEventListener('load', centerMap, false);


// creating the points on the map

points.forEach((data, pointindex) => {
    let categoryname = `category_${data['category'] != '' ? data['category'].toLowerCase().replace(' ','_') : 'miscellaneous'}`

    let pointelement = document.createElement('img');
    pointelement.classList.add('image_label')
    pointelement.classList.add(data.positioning)
    pointelement.style.left = (((data.xPos+745)/1490)*currentSize).toString()+'px';
    pointelement.style.top = (((data.yPos+745)/1490)*currentSize).toString()+'px';
    pointelement.dataset.pointindex = pointindex
    pointelement.ondragstart = () => { return false; }
    pointelement.src = data.icon
    map_container.appendChild(pointelement)

    // generate entries for points tab
    //  category detection
    if (document.getElementById(categoryname) == null) {
        // doesn't exist, create containing category element
        let parentelement = document.createElement('div')
        parentelement.id = categoryname

        let headelement = document.createElement('div')
        headelement.classList.add('pointlist_category')

        // hide / show button
        let headelement_visiblitybutton = document.createElement('div')
        headelement_visiblitybutton.classList.add('pointercursor')
        headelement_visiblitybutton.classList.add('unselectable')
        headelement_visiblitybutton.setAttribute('onclick', "hideCategory(this)")
        headelement_visiblitybutton.innerText = '[S]'
        headelement.appendChild(headelement_visiblitybutton)

        // text label
        let headelement_label = document.createElement('div')
        headelement_label.classList.add('pointlistentry_name')
        headelement_label.innerText = data['category'] != '' ? data['category'] : 'Miscellaneous'
        headelement.appendChild(headelement_label)

        // collapse / expand button
        let headelement_collapse = document.createElement('div')
        headelement_collapse.classList.add('pointercursor')
        headelement_collapse.classList.add('unselectable')
        headelement_collapse.setAttribute('onclick', "hideEntries(this)")
        headelement_collapse.innerHTML = '&nbsp;-' // collapsed by default #1/2
        headelement.appendChild(headelement_collapse)

        parentelement.appendChild(headelement)
        information_pane_points.appendChild(parentelement)
        
        // create container for the entries
        let entrycontainer = document.createElement('div')
        entrycontainer.classList.add('hidden') // collapsed by default #2/2
        parentelement.appendChild(entrycontainer)

        // store reference
        references[categoryname] = {'categoryhead': headelement, 'entrycontainer': entrycontainer}
    }

    //  add point to respective category
    let entryelement = document.createElement('div')
    entryelement.classList.add('pointlist_entry')

    // hide / show button
    let entryelement_visiblitybutton = document.createElement('div')
    entryelement_visiblitybutton.classList.add('pointercursor')
    entryelement_visiblitybutton.classList.add('unselectable')
    entryelement_visiblitybutton.setAttribute('onclick', "hidePointCommand(this)")
    entryelement_visiblitybutton.dataset.pointindex = pointindex
    entryelement_visiblitybutton.innerText = '[S]'
    entryelement.appendChild(entryelement_visiblitybutton)

    // text label
    let entryelement_label = document.createElement('div')
    entryelement_label.classList.add('pointlistentry_name')
    entryelement_label.innerText = data['name']
    entryelement.appendChild(entryelement_label)

    // store reference, add child
    references[categoryname][pointindex] = {'entry': entryelement, 'point': pointelement}
    references[categoryname]['entrycontainer'].appendChild(entryelement)
})

function hideEntries(element) {
    let entrycontainer = references[element.parentElement.parentElement.id]['entrycontainer']
    if (entrycontainer.classList.contains('hidden')) {
        // unhide
        entrycontainer.classList.remove('hidden')
        element.innerHTML = '&nbsp;▼'
    } else {
        // hide
        entrycontainer.classList.add('hidden')
        element.innerHTML = '&nbsp;-'
    }
}

// var references = {
//     "category_satellite_dishes": {
//         "categoryhead": Object,
//         "entrycontainer": Object,
//         1: {
//             "point": Object,
//             "entry": Object
//         },
//         2: {
//             "point": Object,
//             "entry": Object
//         }
//     }
// }

function hideCategory(element) {
    let id = element.parentElement.parentElement.id
    let force
    if (element.innerText == '[H]') {
        // unhide points
        element.innerText = '[S]'
        element.classList.remove('gray')
        force = 'show'
    } else {
        // hide points
        element.innerText = '[H]'
        element.classList.add('gray')
        force = 'hide'
    }
    Object.keys(references[id]).forEach(key => {
        if (!isNaN(key) && !isNaN(parseFloat(key))) {
            // it is a number
            // TODO: Make this IF statement unnessessary by spliting the pointindexes into a subcategory of references
            hidePoint(id, key, force=force)
        }
    });
}

function hidePointCommand(element) {
    hidePoint(element.parentElement.parentElement.parentElement.id, element.dataset.pointindex)
}

function hidePoint(id, pointindex, force=undefined) {
    let point = references[id][pointindex]['point']
    let button = references[id][pointindex]['entry'].querySelector('[data-pointindex]')
    if ((point.classList.contains('hidden') || force == 'show') && (force != 'hide')) {
        // unhide point
        button.innerText = '[S]'
        button.classList.remove('gray')
        point.classList.remove('hidden')
    } else {
        // hide point
        button.innerText = '[H]'
        button.classList.add('gray')
        point.classList.add('hidden')
    }
}

lines.forEach((data, lineindex) => {
    ctx.beginPath();
    data['coordinates'].forEach((coords, index) => {
        if (index == 0) {
            ctx.moveTo(((coords[0]+745)/1490)*currentSize, ((coords[1]+745)/1490)*currentSize);
        } else {
            ctx.lineTo(((coords[0]+745)/1490)*currentSize, ((coords[1]+745)/1490)*currentSize);
        }
    })
    if (!(data['fill'] == undefined)) {
        ctx.closePath();
        ctx.fillStyle = data['fill'];
        ctx.fill();
    }
    ctx.lineWidth = data['linethickness'];
    ctx.strokeStyle = data['color'];
    ctx.lineCap = "square";
    ctx.lineJoin = "miter";
    ctx.stroke();
})


// tabs

function tabClicked(element) {
    if (element == information_tab_info) {
        // show info tab
        information_tab_info.classList.add('tab_selected')
        information_pane_info.classList.remove('hidden')
        // hide points tab
        information_tab_points.classList.remove('tab_selected')
        information_pane_points.classList.add('hidden')
    } else if (element == information_tab_points) {
        // show points tab
        information_tab_points.classList.add('tab_selected')
        information_pane_points.classList.remove('hidden')
        // hide info tab
        information_tab_info.classList.remove('tab_selected')
        information_pane_info.classList.add('hidden')
    }
}


// map panning functionality

map_container.addEventListener('mousedown', function(event) {
    clickedWithoutMovement = true
    if (event.target == map_canvas) {
        if (!drag.state && event.button == 0) {
            map_container.classList.add('unselectable')
            drag.x = event.pageX
            drag.y = event.pageY
            drag.state = true
        }
    }
});
map_container.addEventListener('touchstart', function(event) {
    clickedWithoutMovement = true;
    if (event.target == map_canvas) {
        if (!drag.state && event.touches.length == 1) {
            map_container.classList.add('unselectable')
            drag.x = event.touches[0].pageX
            drag.y = event.touches[0].pageY
            drag.state = true
        }
    } else if (event.target.classList.contains('image_label')) {
        touchscreenClickedAPoint = true;
        if (!drag.state && event.touches.length == 1) {
            map_container.classList.add('unselectable')
            drag.x = event.touches[0].pageX
            drag.y = event.touches[0].pageY
            drag.state = true
        }
    }
});
document.addEventListener('mousemove', function(event) {
    clickedWithoutMovement = false;
    if (drag.state) {
        map_container.style.left = parseInt(map_container.style.left, 10) + (event.pageX - drag.x) + 'px';
        map_container.style.top = parseInt(map_container.style.top, 10) + (event.pageY - drag.y) + 'px';
        drag.x = event.pageX;
        drag.y = event.pageY;
    }
});
document.addEventListener('touchmove', function(event) {
    clickedWithoutMovement = false;
    if (drag.state) {
        map_container.style.left = parseInt(map_container.style.left, 10) + (event.touches[0].pageX - drag.x) + 'px';
        map_container.style.top = parseInt(map_container.style.top, 10) + (event.touches[0].pageY - drag.y) + 'px';
        drag.x = event.touches[0].pageX;
        drag.y = event.touches[0].pageY;
    }
});
document.addEventListener('mouseup', function(event) {
    if (drag.state) {
        drag.state = false;
        if (clickedWithoutMovement && !touchscreenClickedAPoint) {
            information_header.innerHTML = 'Select a Point'
            information_coords.innerHTML = ''
            information_text.innerHTML = 'Click on a point on the map to see some information about what it is and where it\'s located, along with some additional pictures that can help you pinpoint <i>exactly</i> it is or what it looks like.<br><br>Use the <i>Points</i> tab to hide and show certain points on the map.'
            information_images.replaceChildren()
            information_pane.classList.remove('showing_information')
        }
    } else if (clickedWithoutMovement) {
        // show info tab
        information_tab_info.classList.add('tab_selected')
        information_pane_info.classList.remove('hidden')
        // hide points tab
        information_tab_points.classList.remove('tab_selected')
        information_pane_points.classList.add('hidden')
        // set info
        let data = points[event.target.dataset.pointindex]
        information_header.innerHTML = data.name
        information_coords.innerHTML = `x: <u>${data.xPos}</u>, y: <u>${data.yPos}</u>`
        information_text.innerHTML = data.description
        information_images.replaceChildren()
        information_pane.classList.add('showing_information')
        if (data.related_images.length) {
            data.related_images.forEach((link, imageindex) => {
                let element = document.createElement('img');
                element.src = link;
                element.onclick = function() { previewImage(element) };
                element.classList.add('information_image');
                element.dataset.pointindex = event.target.dataset.pointindex
                element.dataset.imageindex = imageindex
                information_images.appendChild(element);
            });
        };
    }
    map_container.classList.remove('unselectable');
    touchscreenClickedAPoint = false;
});
document.addEventListener('touchend', function(e) {
    if (drag.state) {
        drag.state = false;
        if (clickedWithoutMovement && !touchscreenClickedAPoint) {
            information_header.innerHTML = 'Select a Point'
            information_coords.innerHTML = ''
            information_text.innerHTML = 'Click on a point on the map to see some information about what it is and where it\'s located, along with some additional pictures that can help you pinpoint <i>exactly</i> it is or what it looks like.<br><br>Use the <i>Points</i> tab to hide and show certain points on the map.'
            information_images.replaceChildren()
            information_pane.classList.remove('showing_information')
        }
    }
    touchscreenClickedAPoint = false;
});


// image preview code

function previewImage(element) {
    display_image.src = element.src
    display_image.dataset.pointindex = element.dataset.pointindex
    display_image.dataset.imageindex = element.dataset.imageindex
    display_image_container.classList.remove('hidden')
}

function hidePreview() {
    display_image_container.classList.add('hidden')
}

document.addEventListener('keydown', (event) => {
    if (!event.shiftKey && !event.altKey && !event.ctrlKey && !event.metaKey) {
        // accept hotkeys
        if (!display_image_container.classList.contains('hidden')) {
            // currently previewing an image
            if (event.key == 'Escape') {
                display_image_container.classList.add('hidden')
            } else if (event.key == 'ArrowLeft' || event.key == 'a') {
                if (!(points[display_image.dataset.pointindex].related_images[Number(display_image.dataset.imageindex)-1] === undefined)) {
                    display_image.dataset.imageindex = Number(display_image.dataset.imageindex) - 1
                    display_image.src = points[display_image.dataset.pointindex].related_images[display_image.dataset.imageindex]
                }
            } else if (event.key == 'ArrowRight' || event.key == 'd') {
                if (!(points[display_image.dataset.pointindex].related_images[Number(display_image.dataset.imageindex)+1] === undefined)) {
                    display_image.dataset.imageindex = Number(display_image.dataset.imageindex) + 1
                    display_image.src = points[display_image.dataset.pointindex].related_images[display_image.dataset.imageindex]
                }
            }
        }
    }
});

// Resizing the browser should re-center the map
var previousSize = 0
const incrementPoint = () => {
    let size = screenCssPixelRatio = (window.outerWidth - 8) / window.innerWidth;
    if (size != previousSize) {
        previousSize = size
        centerMap()
    };
};
setInterval(incrementPoint, 20);
